## 列式存储
在列式存储中，会把每一列使用连续空间存放到一起

而对于各个列之间，是没有必要使用连续空间存放到一起的，所以很多列式数据库都使用了分布式存储的方式，存储各个列

有因为一列的数据数据结构一致，因此可以使用压缩

### 数据压缩：
很多列式数据库都是通过**字典表**的方式进行数据压缩

比如：
对于姓名列，这列的所有数据如下：
```text
彦祖|德华|路人甲|德华|彦祖
```

对这列值去重以后，构建一张姓名列字典表，构建算法忽略，就使用自增id的方式,如下：

| id | 姓名列 |
|-----|-----|
|1| 彦祖 |
|2| 德华 |
|3| 路人甲 |

这样构建字典表，对于列存储的物理存储结构，就可以执行存储字典表中的id,而不用存储具体的值，有了字典表以后姓名列存储如下：

```text
1|2|3|2|1
```

### 列存储的查询执行过程
bitmap + 与运算

1. N个column的过滤条件会给各个column的数据匹配的行打上1的标记
2. 将N个bitmap做与运算，就能得到满足过滤的条件的行
3. 结果汇总(select *): 拿匹配的行的index去各个列查找数据，然后进行拼接出来

## 参考文章
https://www.jianshu.com/p/d1114dd4f77a

